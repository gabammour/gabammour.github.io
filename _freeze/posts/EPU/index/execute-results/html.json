{
  "hash": "afd4e8b854d51b89670d3bfed03b94a8",
  "result": {
    "markdown": "---\ntitle: \"Using `annotate` and `geom_segment` to valuate you times series\"\nauthor: \"Gabriel Ammour\"\ndate: \"2023-02-04\"\ncategories: [code, analysis]\ndescription: \"ðŸ“ˆ\"\n---\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n\n# Purpose\n\nThis post aims to demonstrate how you can use `annotate` and `geom_segment` from `ggplot2`in order to valuate your time series analysis. This exemple is inspired by the the work of Baker et al., 2016[^1].\n\n[^1]: [Measuring Economic Policy Uncertainty](https://doi.org/10.1093/qje/qjw024).\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nplot_EPU <- ggplot(base, aes(x = Date))+\n  geom_line(aes(y = base$EPU, color = \"EPU\")) +\n  scale_x_date(date_labels = \"%Y\", date_breaks = \"5 years\")+\n  scale_y_continuous(limits = c(0,320))+\n  theme_light()+\n  theme(axis.line = element_line(colour = \"black\",size = 0.2, linetype = \"solid\"))+\n  annotate(\"text\", x = as.Date(\"2020-03-01\", format = \"%Y-%m-%d\"), y = 300, label = \"Covid-19\", color = \"black\", angle=0,  size = 2)+\n  annotate(\"text\", x = as.Date(\"2007-01-01\", format = \"%Y-%m-%d\"), y = 160, label = \"Subprime\", color = \"black\", angle=0, size = 2)+\n  annotate(\"text\", x = as.Date(\"1986-10-19\", format = \"%Y-%m-%d\"), y = 160, label = \"Black Monday\", color = \"black\", angle=0, size = 2)+\n  annotate(\"text\", x = as.Date(\"2001-09-11\", format = \"%Y-%m-%d\"), y = 160, label = \"9/11\", color = \"black\", angle=0, size = 2)+\n  annotate(\"text\", x = as.Date(\"2011-03-01\", format = \"%Y-%m-%d\"), y = 210, label = \"Euro debt crisis\", color = \"black\", angle=0, size = 2)+\n  annotate(\"text\", x = as.Date(\"1990-10-01\", format = \"%Y-%m-%d\"), y = 150, label = \"Gulf war I\", color = \"black\", angle=0, size = 2)+\n  geom_segment(aes(x = as.Date(\"2007-01-01\", format = \"%Y-%m-%d\"), y = 150, xend = as.Date(\"2008-01-01\", format = \"%Y-%m-%d\") , yend=120), arrow = arrow(length=unit(.12, 'cm'),type = \"closed\"))+\n  geom_segment(aes(x = as.Date(\"1987-01-19\", format = \"%Y-%m-%d\"), y = 150, xend = as.Date(\"1987-10-19\", format = \"%Y-%m-%d\") , yend=130), arrow = arrow(length=unit(.12, 'cm'),type = \"closed\"))+\n  theme(legend.position='bottom', \n        legend.justification='left',\n        legend.direction='horizontal')+\n  xlab(\"Date\") + ylab(\"Economic policy Uncertainty Index\") +\n  labs(caption = \"Source: Baker, Scott R., Bloom, Nick and Davis, Stephen J., Economic Policy Uncertainty Index for United States\", color = \"Legend : \") +\n  theme(text = element_text(family = \"Helvetica\"))\n\nplot_EPU\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}